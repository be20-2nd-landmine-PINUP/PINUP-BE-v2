-- Dummy dataset for conquer/deco end-to-end tests (신림동 polygon from dong.geojson -> EPSG:4326)
-- Use this script to reset key tables and seed deterministic fixtures for FE/BE integration flows.

DELETE FROM territory_visit_log;
DELETE FROM territory;
DELETE FROM conquer_session;
DELETE FROM inventory;
DELETE FROM store;
DELETE FROM region;
DELETE FROM admin;
DELETE FROM users;

SET @SILLIM_WKT = 'POLYGON((126.9241512287 37.4899779421, 126.9241550213 37.4899636804, 126.9243004467 37.4899667022, 126.9243012214 37.4899667184, 126.9243703754 37.4899681551, 126.924642166 37.4899735766, 126.9249525553 37.489969796, 126.9252880729 37.4899654004, 126.9254225256 37.4899756917, 126.925428315 37.4899761346, 126.9254401323 37.4899770392, 126.9255838567 37.489959491, 126.9256946148 37.4899459638, 126.9257851851 37.4899348965, 126.9258485822 37.4899270617, 126.9258575157 37.4899259604, 126.9258912755 37.4899208281, 126.9259452754 37.4899126088, 126.9259953775 37.4899049428, 126.926111643 37.4898871524, 126.926172056 37.4898775364, 126.9262411445 37.4898665401, 126.9262702766 37.4898618449, 126.9262942192 37.4898571136, 126.9264444193 37.4898274204, 126.9266052086 37.4897950328, 126.9266622682 37.4897835452, 126.9267322842 37.4897692722, 126.9267980402 37.4897558816, 126.9268035469 37.4897545418, 126.9268225644 37.4897499281, 126.9268341409 37.4897471189, 126.9269445269 37.4897203379, 126.9270650591 37.4896910876, 126.9271578566 37.4896685494, 126.927271795 37.4896397518, 126.927291136 37.4896348449, 126.9274058011 37.4896024092, 126.9275601103 37.4895578332, 126.9276554502 37.4895274669, 126.9277914619 37.4894829516, 126.9278395905 37.4894681969, 126.927923523 37.4894405572, 126.9279456852 37.4894332585, 126.9280757469 37.4893924078, 126.9280819584 37.4893904567, 126.9282020227 37.4893521209, 126.9282921875 37.489316777, 126.9284116372 37.4892702952, 126.9284515911 37.4892547418, 126.9286539976 37.4891758498, 126.9286943969 37.4891598859, 126.9287002819 37.4891575607, 126.9288688402 37.4890909551, 126.9289551048 37.4890516691, 126.9289559357 37.4890512914, 126.9290428427 37.4890117016, 126.9291725128 37.4889527107, 126.9292022582 37.4889393111, 126.9292689201 37.4889092795, 126.9293655657 37.4888657394, 126.9294017878 37.4888493889, 126.9295212003 37.4887958598, 126.9295389012 37.4887879259, 126.9297338864 37.4887007921, 126.9298871115 37.4886318856, 126.929898555 37.48862674, 126.9299165621 37.4886186953, 126.9300573414 37.4885557996, 126.9301190147 37.4885280955, 126.9302284803 37.4884794185, 126.9302462698 37.488471264, 126.9303984769 37.4884014848, 126.9304339317 37.4883860281, 126.9304855102 37.4883635427, 126.9305260481 37.4883451341, 126.9305555135 37.4883317531, 126.9305872398 37.4883173464, 126.9306691518 37.4882801924, 126.9307058825 37.4882635321, 126.9307793495 37.4882302078, 126.9309645869 37.4881463399, 126.9309793677 37.4881396475, 126.9310593538 37.4881034341, 126.931337555 37.4879793605, 126.9313965013 37.4879535896, 126.9316303875 37.4878495258, 126.9317060802 37.4878158483, 126.9317179834 37.4878105344, 126.9319601653 37.4877024087, 126.9321465342 37.487619665, 126.932242889 37.4875768855, 126.9325276127 37.4874503184, 126.9325694625 37.4874313683, 126.9326911345 37.4873762695, 126.9327643569 37.4873431915, 126.9329469588 37.4872607034, 126.933133517 37.4871764177, 126.9331550879 37.4871666721, 126.933176029 37.487157211, 126.9332839849 37.4871099173, 126.9334757548 37.4870239543, 126.9335039398 37.48701132, 126.9335742961 37.4869797817, 126.9338743331 37.4868446696, 126.9341993251 37.4867004337, 126.9342001354 37.4867000735, 126.934200389 37.4866616593, 126.9342004326 37.4866549728, 126.934201127 37.4865492559, 126.9342011295 37.4865487692, 126.9342015758 37.48639476, 126.9342025326 37.4860641665, 126.9342035204 37.4857228845, 126.934203948 37.4855751402, 126.9342044352 37.4854710934, 126.9342044358 37.4854708861, 126.93420446 37.4854640467, 126.9342055363 37.4852305931, 126.9342059557 37.4851395832, 126.9342073469 37.4848376753, 126.9342041257 37.4848373439, 126.93420385 37.484837316, 126.9342027367 37.4848372009, 126.9342027039 37.4848371974, 126.9342012086 37.4848370433, 126.9341902036 37.4848355268, 126.9339823819 37.4848068761, 126.9339763988 37.4848060518, 126.9334946983 37.4847396344, 126.9334756247 37.4847370051, 126.9334755241 37.4847369912, 126.9334753477 37.4847369674, 126.9334385143 37.4847318901, 126.9334290405 37.4847305845, 126.9334182225 37.4847290927, 126.9334119028 37.4847282219, 126.933391067 37.4847253476, 126.9333222618 37.4847158571, 126.9331431343 37.4846982222, 126.9331429118 37.4846982, 126.9331409541 37.484698007, 126.93296568 37.484680751, 126.9329493186 37.4846791401, 126.9326166165 37.4846463838, 126.932518709 37.4846367451, 126.9325186107 37.4846367355, 126.932518437 37.4846367184, 126.9325024528 37.4846351449, 126.9325017436 37.4846350766, 126.9325007152 37.4846349746, 126.9324994983 37.4846348549, 126.9321263031 37.4845981083, 126.9321128563 37.4845967847, 126.9319937426 37.4845850563, 126.9319792663 37.484583628, 126.9319783638 37.4845834865, 126.9319727082 37.4845825969, 126.9319576806 37.4845802329, 126.9318649661 37.4845656412, 126.9318645193 37.4845655718, 126.9318641837 37.4845655193, 126.9318630427 37.4845653381, 126.9315594439 37.4845175507, 126.9315005013 37.4845082733, 126.9314997211 37.484508151, 126.9313781174 37.4844890114, 126.931105149 37.4844460419, 126.9311050824 37.4844460315, 126.9311048835 37.4844460001, 126.931100064 37.4844452419, 126.9309857072 37.4844272415, 126.9309129886 37.4844157955, 126.9308902784 37.484412221, 126.9308809438 37.4844107516, 126.9307855753 37.4843957396, 126.9305522387 37.4843590104, 126.9304882967 37.4843489445, 126.9304874641 37.4843488134, 126.9304870178 37.484348743, 126.930356715 37.4843282333, 126.9303566313 37.4843282198, 126.9303564788 37.4843281961, 126.9303465365 37.4843266308, 126.9302816263 37.4843164126, 126.9302486897 37.4843112278, 126.9297233404 37.4842285289, 126.929704428 37.4842264295, 126.9297043048 37.4842264157, 126.9297041511 37.4842263992, 126.9296951173 37.4842253961, 126.9296928678 37.4842251454, 126.9296918518 37.484225031, 126.9296903001 37.48422486, 126.9296896073 37.4842247836, 126.9293705741 37.4841893534, 126.9293433276 37.4841863278, 126.9293431173 37.4841863047, 126.9293424945 37.4841862357, 126.9289939641 37.4841475274, 126.9289938962 37.4841475203, 126.9289906072 37.4841471553, 126.9289891688 37.4841469954, 126.928987757 37.4841468387, 126.9289876941 37.484146832, 126.9287475564 37.4841201609, 126.9284643338 37.4840887048, 126.9284359186 37.4840855493, 126.9284358519 37.4840855419, 126.9281915116 37.4840584042, 126.928191419 37.4840583944, 126.9281912576 37.4840583765, 126.9281675937 37.4840557485, 126.9281662926 37.4840556045, 126.9281658555 37.4840555562, 126.9280773861 37.4840457304, 126.9280645461 37.4840443045, 126.928020004 37.4840393568, 126.9277886392 37.4840136573, 126.9277876054 37.4840135425, 126.9277872554 37.4840135046, 126.9277776828 37.4840124408, 126.927777588 37.4840124308, 126.9277774232 37.4840124128, 126.9274539984 37.483976487, 126.9274437158 37.4839753452, 126.9274110093 37.483971712, 126.9274109426 37.4839717046, 126.9274107447 37.4839716827, 126.9273210861 37.4839617226, 126.927239331 37.4839459086, 126.9270609121 37.4839113882, 126.9270606207 37.4839113314, 126.9270604829 37.4839113046, 126.9268462203 37.4838698502, 126.9267776754 37.4838565879, 126.9266607316 37.4838339613, 126.9262415889 37.4837877214, 126.9262415268 37.4837877146, 126.9262413401 37.483787694, 126.9261807637 37.483781011, 126.9261559646 37.4838014407, 126.9261559348 37.4838014656, 126.9259990587 37.4839306977, 126.9259985057 37.4839311531, 126.925879959 37.4840288101, 126.9258621495 37.4840434813, 126.925847906 37.4840552148, 126.9258794185 37.484083009, 126.9257322692 37.4841970513, 126.9257035955 37.484174095, 126.9256926794 37.4841830874, 126.9256845877 37.4841897526, 126.9256685892 37.484202932, 126.9254781698 37.4843597955, 126.9254748074 37.4843625653, 126.9254747775 37.4843625901, 126.9254746905 37.4843626614, 126.9254437215 37.4843881725, 126.9253780641 37.4844422598, 126.9253520314 37.4844637052, 126.9252821605 37.4845212625, 126.9252698836 37.4845313764, 126.9252656178 37.4845348898, 126.9252655176 37.4845349722, 126.9252651443 37.4845352796, 126.9252554767 37.4845432437, 126.9251828652 37.4846030585, 126.9251714737 37.4846124425, 126.9251706843 37.4846130926, 126.9251698932 37.4846137445, 126.9251578767 37.484623645, 126.9251567107 37.4846246062, 126.9251560598 37.4846251422, 126.9251553931 37.484625689, 126.9250226953 37.4847575738, 126.9250217801 37.4847584833, 126.9250097339 37.4847704556, 126.9249133331 37.4848662619, 126.9249132898 37.484866305, 126.9249132145 37.4848663801, 126.9248901315 37.4848893218, 126.9248901017 37.4848893514, 126.9248895137 37.4848899354, 126.924888664 37.4848907798, 126.9248238764 37.4849551697, 126.9247263291 37.4850521186, 126.9247259155 37.4850525294, 126.9247246924 37.485053745, 126.9246221187 37.4851556874, 126.9245287053 37.4852485243, 126.9245225202 37.4852546699, 126.924522478 37.485254712, 126.924522404 37.4852547855, 126.9245031824 37.4852738899, 126.9245019024 37.4852751619, 126.9245014759 37.485275586, 126.9243112211 37.4854646656, 126.924310516 37.485465366, 126.9243098066 37.4854660703, 126.9242649583 37.4855106441, 126.9242649252 37.4855106773, 126.9242648686 37.485510733, 126.9241276103 37.4856471469, 126.9241269011 37.4856478519, 126.9241261901 37.4856485592, 126.9240837292 37.4856907579, 126.92408285 37.4856916308, 126.9240822967 37.4856921813, 126.9240543299 37.4857199751, 126.9239660417 37.485807716, 126.9239598409 37.4858138787, 126.9239505126 37.4858231489, 126.9238907423 37.4858825478, 126.9238420011 37.4859309875, 126.9238416755 37.4859313106, 126.9238278846 37.4859450169, 126.9237494545 37.4860229644, 126.9237422613 37.4860301121, 126.923736123 37.486036213, 126.9236684708 37.4861034467, 126.9236242481 37.486147395, 126.9235716211 37.4861996962, 126.9235441336 37.4862270119, 126.9235437221 37.4862274208, 126.923542923 37.4862282148, 126.9234990949 37.4862717692, 126.9234700399 37.4863006444, 126.9234700169 37.4863006676, 126.9234699208 37.4863007635, 126.9232902953 37.4864792766, 126.9232525198 37.4865328807, 126.9232419733 37.4865478602, 126.9232351465 37.4865575507, 126.9232347833 37.4865580658, 126.9232346244 37.4865582913, 126.923234585 37.4865583479, 126.9229411083 37.48697475, 126.9229252151 37.4869972971, 126.9229251852 37.48699734, 126.9229245065 37.4869983016, 126.9229241563 37.4869987991, 126.922923814 37.4869992852, 126.9226894462 37.4873318377, 126.9226888883 37.4873326289, 126.9226883295 37.4873334214, 126.9226353033 37.487408663, 126.9226293012 37.4874171773, 126.9226292832 37.4874172042, 126.9226253068 37.4874228461, 126.9225520311 37.4875268172, 126.9225374625 37.4875474886, 126.9223596287 37.4877998125, 126.9223513144 37.4878116094, 126.9223509929 37.4878120657, 126.9223406721 37.487826711, 126.9223400975 37.4878275257, 126.9223395239 37.4878283404, 126.9223324945 37.487838312, 126.9223323999 37.4878384469, 126.9223321136 37.4878388541, 126.9223261469 37.4878473201, 126.9223261215 37.4878473566, 126.9222468414 37.4879598464, 126.9221535121 37.4880922691, 126.9220941244 37.4881447025, 126.9220749063 37.4881616699, 126.9219900113 37.4882366269, 126.9219891518 37.4882373919, 126.9219882909 37.488238158, 126.9219735661 37.4882511448, 126.9219727086 37.4882519011, 126.9219718527 37.4882526561, 126.9219535232 37.4882688379, 126.921822004 37.4883849547, 126.9218219697 37.4883849852, 126.9218218701 37.4883850738, 126.9216763479 37.4885135525, 126.9216538392 37.4885334244, 126.9215591033 37.488600322, 126.9215310356 37.4886201421, 126.9215250002 37.4886244062, 126.921520161 37.4886278225, 126.9215200186 37.4886279237, 126.921332502 37.4887603304, 126.9213111156 37.4887754313, 126.9213110747 37.4887754601, 126.9213109541 37.4887755452, 126.9211631893 37.4888798843, 126.9211272862 37.4889052357, 126.9211184734 37.4889114574, 126.9209537907 37.4890277397, 126.9209213934 37.4890498041, 126.9209213534 37.4890498317, 126.9209212342 37.4890499125, 126.9208601355 37.489091528, 126.9208010697 37.489131759, 126.9207485791 37.4891675111, 126.9207484724 37.4891675836, 126.9207484394 37.489167606, 126.9206135246 37.4892594988, 126.9204751686 37.4893403451, 126.9204267245 37.4893686526, 126.9204215111 37.4893716988, 126.9204212863 37.4893718302, 126.9204212113 37.489371874, 126.920354063 37.4894111118, 126.9202278815 37.4895045753, 126.920076317 37.4895719733, 126.9200743952 37.4895728276, 126.9200101532 37.4896013939, 126.9200099649 37.4896014772, 126.9198484919 37.4896732807, 126.9198484405 37.4896733042, 126.9197920201 37.4896983922, 126.9196809046 37.4897478009, 126.9194688678 37.4898420844, 126.9191896849 37.4899662251, 126.9188809591 37.4901035022, 126.9187882866 37.490100463, 126.9185398083 37.4900923107, 126.9181554054 37.4900007891, 126.9180567032 37.4899772895, 126.9178680236 37.4899240182, 126.9178583348 37.4899212826, 126.9178566239 37.4902100776, 126.9178563495 37.4902563862, 126.9179903299 37.4902863584, 126.9183041615 37.4903424235, 126.9183520091 37.4903475931, 126.9187021292 37.4903908887, 126.9191272419 37.4904422189, 126.9194886688 37.4904985564, 126.9195893222 37.490513906, 126.91969842 37.490530543, 126.9197001905 37.4905308087, 126.9202761977 37.4906172761, 126.9203394595 37.4906213819, 126.9205151304 37.4906327826, 126.9205212899 37.4906306925, 126.9206083146 37.4906011594, 126.9208642814 37.490633149, 126.9209994087 37.4906296921, 126.9210149733 37.4906365051, 126.921326344 37.4905962078, 126.9215489536 37.4905680244, 126.921735649 37.4905443875, 126.9217608077 37.4905351518, 126.921890667 37.4905009683, 126.9219999583 37.4904721978, 126.9222331518 37.4904612099, 126.9222900655 37.4904585519, 126.9223018148 37.4904580033, 126.9223357706 37.4904583316, 126.9223646654 37.4904377975, 126.9224179123 37.4903999576, 126.922508449 37.490368402, 126.9224486663 37.4901107825, 126.9225574725 37.4900958174, 126.9225577385 37.4900957813, 126.9226815217 37.4900787571, 126.9226822986 37.4900804067, 126.9227990656 37.4900625536, 126.9234060628 37.4900030248, 126.9234242399 37.4900012422, 126.9235840585 37.4899855688, 126.9238390255 37.489996677, 126.9241512287 37.4899779421))';

INSERT INTO users (user_id, login_type, user_name, email, nickname, gender, profile_image, status,
                   created_at, updated_at, birth_date, preferred_category, preferred_season)
VALUES (6001, 'GOOGLE', '신림정복자', 'sillim-conquer@example.com', 'sillim-conquer', 'M', NULL, 'ACTIVE',
        NOW(), NOW(), '1992-04-10', '문화', '봄'),
       (6002, 'GOOGLE', '신림데코러', 'sillim-deco@example.com', 'sillim-deco', 'F', NULL, 'ACTIVE',
        NOW(), NOW(), '1994-09-23', '체험', '가을'),
       (6003, 'GOOGLE', '김현수', 'penrose0214@gmail.com', 'penrose', 'M', NULL, 'ACTIVE',
        NOW(), NOW(), '1996-02-14', '역사', '겨울');

INSERT INTO admin (admin_id, admin_name, admin_pw, status, created_at, updated_at)
VALUES (6501, '신림관리자', 'secure-password', 'ACTIVE', NOW(), NOW());

INSERT INTO region (region_id, region_name, region_depth1, region_depth2, region_depth3, geom)
VALUES (7001, '서울특별시 관악구 신림동', '서울특별시', '관악구', '신림동',
        ST_GeomFromText(@SILLIM_WKT, 4326));

INSERT INTO territory (territory_id, user_id, region_id, capture_start_at, capture_end_at, visit_count, photo_url)
VALUES (8001, 6001, 7001,
        DATE_SUB(NOW(), INTERVAL 15 DAY), DATE_SUB(NOW(), INTERVAL 14 DAY), 5, 'https://example.com/photos/sillim-conquer-1.jpg'),
       (8002, 6001, 7001,
        DATE_SUB(NOW(), INTERVAL 6 DAY), DATE_SUB(NOW(), INTERVAL 4 DAY), 3, 'https://example.com/photos/sillim-conquer-2.jpg'),
       (8004, 6001, 7001,
        DATE_SUB(NOW(), INTERVAL 28 DAY), DATE_SUB(NOW(), INTERVAL 27 DAY), 4, 'https://example.com/photos/sillim-conquer-3.jpg'),
       (8005, 6001, 7001,
        DATE_SUB(NOW(), INTERVAL 20 DAY), DATE_SUB(NOW(), INTERVAL 18 DAY), 7, 'https://example.com/photos/sillim-conquer-legacy.jpg'),
       (8006, 6002, 7001,
        DATE_SUB(NOW(), INTERVAL 12 DAY), DATE_SUB(NOW(), INTERVAL 11 DAY), 2, 'https://example.com/photos/sillim-deco-1.jpg'),
       (8007, 6002, 7001,
        DATE_SUB(NOW(), INTERVAL 9 DAY), DATE_SUB(NOW(), INTERVAL 7 DAY), 6, 'https://example.com/photos/sillim-deco-2.jpg'),
       (8003, 6002, 7001,
        DATE_SUB(NOW(), INTERVAL 2 DAY), NULL, 1, NULL),
       (8008, 6003, 7001,
        DATE_SUB(NOW(), INTERVAL 18 DAY), DATE_SUB(NOW(), INTERVAL 17 DAY), 4, 'https://example.com/photos/penrose-conquer-1.jpg'),
       (8009, 6003, 7001,
        DATE_SUB(NOW(), INTERVAL 8 DAY), DATE_SUB(NOW(), INTERVAL 6 DAY), 5, 'https://example.com/photos/penrose-conquer-2.jpg');

INSERT INTO territory_visit_log (visit_id, territory_id, duration_minutes, is_valid, visited_at)
VALUES (9001, 8001, 45, TRUE, DATE_SUB(NOW(), INTERVAL 15 DAY)),
       (9002, 8001, 25, TRUE, DATE_SUB(NOW(), INTERVAL 14 DAY)),
       (9003, 8002, 30, TRUE, DATE_SUB(NOW(), INTERVAL 5 DAY)),
       (9004, 8003, 50, TRUE, DATE_SUB(NOW(), INTERVAL 1 DAY)),
       (9005, 8004, 35, TRUE, DATE_SUB(NOW(), INTERVAL 27 DAY)),
       (9006, 8005, 40, TRUE, DATE_SUB(NOW(), INTERVAL 19 DAY)),
       (9007, 8006, 55, TRUE, DATE_SUB(NOW(), INTERVAL 11 DAY)),
       (9008, 8007, 30, TRUE, DATE_SUB(NOW(), INTERVAL 8 DAY)),
       (9009, 8008, 42, TRUE, DATE_SUB(NOW(), INTERVAL 17 DAY)),
       (9010, 8009, 60, TRUE, DATE_SUB(NOW(), INTERVAL 7 DAY));

INSERT INTO conquer_session (session_id, user_id, region_id, started_at, ended_at, status, last_poll_at, last_location_at)
VALUES (9101, 6001, 7001,
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 6 DAY), DATE_SUB(UTC_TIMESTAMP(), INTERVAL 5 DAY), 'COMPLETED',
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 5 DAY), DATE_SUB(UTC_TIMESTAMP(), INTERVAL 5 DAY)),
       (9102, 6002, 7001,
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 1 DAY), NULL, 'RUNNING',
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 1 HOUR), DATE_SUB(UTC_TIMESTAMP(), INTERVAL 30 MINUTE)),
       (9103, 6003, 7001,
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 9 DAY), DATE_SUB(UTC_TIMESTAMP(), INTERVAL 8 DAY), 'COMPLETED',
        DATE_SUB(UTC_TIMESTAMP(), INTERVAL 8 DAY), DATE_SUB(UTC_TIMESTAMP(), INTERVAL 8 DAY));

INSERT INTO store (item_id, region_id, admin_id, name, description, price, category, limit_type,
                   image_url, is_active, created_at)
VALUES (7201, 7001, 6501, '신림 네온 마커', '신림동 정복 기념 마커', 1500, 'MARKER', 'NORMAL',
        'https://example.com/assets/sillim-marker.png', TRUE, '2024-05-01 09:00:00'),
       (7202, 7001, 6501, '신림 스카이라인', '관악산 풍경을 형상화한 건물 아이템', 3200, 'BUILDING', 'EVENT',
        'https://example.com/assets/sillim-building.png', TRUE, '2024-05-10 12:00:00');

INSERT INTO inventory (user_id, item_id, earned_at, is_equipped, equipped_coordinates)
VALUES (6001, 7201, '2024-05-05 08:30:00', TRUE, ST_GeomFromText('POINT(126.925 37.486)', 4326)),
       (6001, 7202, '2024-05-12 11:00:00', FALSE, NULL),
       (6002, 7202, '2024-05-15 19:45:00', TRUE, ST_GeomFromText('POINT(126.929 37.483)', 4326)),
       (6003, 7201, '2024-05-18 07:15:00', TRUE, ST_GeomFromText('POINT(126.931 37.485)', 4326)),
       (6003, 7202, '2024-05-20 20:10:00', FALSE, NULL);
